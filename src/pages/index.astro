---
import Layout from '../layouts/Layout.astro';

import Header from "../components/Header.svelte";
import Footer from "../components/Footer.astro";

import Home from "./Home.svelte";

import "../app.css"

let allPosts = await Astro.glob('./news/p-*.md');
allPosts.reverse();
allPosts = allPosts.slice(0, 5);

let fiveNames = [], fiveUrls = [], fiveDates = [];
allPosts.map(posts => {fiveNames.push(posts.frontmatter.title); fiveUrls.push(posts.url); fiveDates.push(posts.frontmatter.pubDate)})
---

<Layout title="东南大学开源镜像站 / SEU Mirrors">
	<Header client:only="svelte"/>
	<Home postsNames={fiveNames} postsUrls={fiveUrls} postsDates={fiveDates} client:only="svelte"/>
	<Footer/>
</Layout>
